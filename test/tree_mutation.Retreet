main(n)
{
   Swap(n);
   IncrmLeft(n);
}

Swap(n)
{
   if (n == nil){
      return 0;
   }
   else{
      Swap(n.l);
      Swap(n.r);
      tmp = n.l;
      n.l = n.r;
      n.r = tmp;
   }
}

IncrmLeft(n)
{
   if (n == nil) {
      return 0;
   }
   else{
   IncrmLeft(n.l);
   IncrmLeft(n.r);
   n.v = n.l.v + 1;
   }
}